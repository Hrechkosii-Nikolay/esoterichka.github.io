const detailsElements=document.querySelectorAll("details");detailsElements.forEach(e=>{let t=Array.from(e.children).find(e=>"summary"!==e.tagName.toLowerCase());function n(){detailsElements.forEach(t=>{t!==e&&t.open&&(t.open=!1,i(t.querySelector(":scope > *:not(summary)")))});let n=t.getBoundingClientRect().height,o=t.scrollHeight;t.style.height=n+"px",requestAnimationFrame(()=>{t.style.height=o+"px"}),t.addEventListener("transitionend",function n(){e.open&&(t.style.height="auto"),t.removeEventListener("transitionend",n)})}function i(e){let t=e.getBoundingClientRect().height;e.style.height=t+"px",requestAnimationFrame(()=>{e.style.height="0px"})}e.addEventListener("toggle",()=>{e.open?n():i(t)}),t.addEventListener("click",()=>{e.open&&(e.open=!1)})});